<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8"/>
	<title>Каталог товаров</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
</head>

<body>
<div class="container">
	<from th:action="@{/products}"	method="get" class="form-horizontal">

		<div style="..." class="input-group">
			<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
			<input th:value="${word !=null} ? ${word}" name="word" placeholder="Поиск по слову" class="from-control"/>
		</div>
		<div style="..." class="form-group">
			<div class="col-sm-6 controls">
				<button type="submit" class="btn btn-primary">Фильтровать</button>
			</div>
		</div>
	</from>
	<table class="table table-hover">
		<thead>
		<!--название заголовков таблицы-->
		<tr>
			<th>ID</th>
			<th>Название товара</th>
			<th>Цена</th>
			<th>Действия</th>
		</tr>
		</thead>
		<tbody>
		<!--/*@thymesVar id="products" type="ch"*/-->
		<!--цикл foreach, которым перебираются продукты-->
		<tr th:each="product : ${products}">
			<td th:text="${product.id}"/>
			<td th:text="${product.title}"/>
			<td th:text="${product.price}"/>

			<!--@{} - относительно корня-->
			<td>
				<!--/*@thymesVar id="id" type="ch"*/-->
				<a th:href="@{'/products/show/' + ${product.id}}" th:text="Просмотреть"/>
				<!--генерация ссылки на удаление товара-->
				<a th:href="@{'/products/delete/' + ${product.id}}" th:text="Удалить"/>
			</td>
		</tr>
		</tbody>
	</table>
	<!--/*@thymesVar id="products" type="ch"*/-->
	<span th:text="${'Всего товаров ' + products.size()}"/>
	<a th:href="@{/products/add}">Добавить товар</a>
</div>
<!-- добавление товара -->
<br>
<!-- - /products/add -адрес отвечает за добавление товара в БД (условно)-->
<!--форма привязывается к созданному объекту product, которая посылает post-->
<!--<form th:action="@{/products/add}"-->
<!--th:object="${product}" method="post" class="form-horizontal">-->

<!--<div style="margin-bottom: 25px" class="input-group">-->
<!--<span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>-->
<!--&lt;!&ndash;создание полей для ввода, то что пользователь набирает, должно попасть в его поле&ndash;&gt;-->
<!--<input th:field="*{id}" placeholder="id (*)" class="form-control"/>-->
<!--</div>-->
</body>
</html>